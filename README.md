# X Monitor Pro

X/Twitter è¯„è®ºä¸é€šçŸ¥è‡ªåŠ¨åŒ–å¤„ç†å·¥å…·ï¼ˆFlask + Chromium è‡ªåŠ¨åŒ–ï¼‰ã€‚

## å¿«é€Ÿå¼€å§‹

1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

2. å¯åŠ¨æœåŠ¡

```bash
python app.py
```

å¯åŠ¨åç»ˆç«¯ä¼šæ‰“å°è®¿é—®åœ°å€ï¼ˆé»˜è®¤éšæœºå¯ç”¨ç«¯å£ï¼Œé¿å…ç«¯å£å†²çªï¼‰ã€‚

## ä¸»è¦åŠŸèƒ½

- é€šçŸ¥æ•è·ä¸è¯„è®ºå›å¤
- ç§ä¿¡å‘é€
- è¯„è®ºæ¨¡æ¿ä¸ç§ä¿¡æ¨¡æ¿ç®¡ç†ï¼ˆå¢åˆ æ”¹ï¼‰
- å•æµè§ˆå™¨å¤šæ ‡ç­¾å¤ç”¨ï¼Œé™ä½é£æ§ä¸åˆ‡æ¢æˆæœ¬
- LLM è¯„è®ºè¿‡æ»¤ä¸æ„å‘å®¢æˆ·åˆ†æï¼ˆOpenAI å…¼å®¹æ¥å£ + Ollama åŸç”Ÿå…œåº•ï¼‰
- é€šçŸ¥è¯­éŸ³æ’­æŠ¥æ”¯æŒâ€œä»…æ„å‘ç”¨æˆ·æ’­æŠ¥â€

## LLM èƒ½åŠ›è¯´æ˜

### 1) æ¨¡å‹è¿é€šæ€§æµ‹è¯•

å‰ç«¯æ§åˆ¶åŒºæ–°å¢ `LLM å†…å®¹è¿‡æ»¤ï¼ˆOpenAIå…¼å®¹ï¼‰`ï¼Œå¯ç›´æ¥ç‚¹å‡»ï¼š

- `ğŸ§ª æµ‹è¯•æ¨¡å‹`

å¯¹åº”åç«¯æ¥å£ï¼š

- `POST /api/llm_filter/test`

å½“ `/v1/chat/completions` è¿”å› `404 page not found` æ—¶ï¼Œä¼šè‡ªåŠ¨å›é€€åˆ° Ollama åŸç”Ÿ `/api/chat`ã€‚

### 2) è¯„è®ºæ„å‘åˆ†æ

å‰ç«¯å¯è¾“å…¥ç¤ºä¾‹è¯„è®ºï¼ˆå¦‚ï¼š`1 è¯¢ä»·`ï¼‰å¹¶ç‚¹å‡»ï¼š

- `ğŸ” åˆ†æè¯„è®ºæ„å‘`

å¯¹åº”åç«¯æ¥å£ï¼š

- `POST /api/llm_filter/analyze`

è¿”å›å­—æ®µåŒ…å«ï¼š

- `intent_score`ï¼ˆ0-100ï¼‰
- `intent_level`ï¼ˆhigh/medium/low/noiseï¼‰
- `is_intent_user`
- `signals`
- `reason`

### 3) é€šçŸ¥è¯­éŸ³æ’­æŠ¥ä¸æ„å‘è”åŠ¨

å½“ `å¯ç”¨ LLM è¿‡æ»¤` å¼€å…³æ‰“å¼€æ—¶ï¼Œé€šçŸ¥æ•è·åˆ°çš„æ–°è¯„è®ºä¼šå…ˆåšæ„å‘åˆ†æï¼Œæ»¡è¶³ä¸‹åˆ—æ¡ä»¶æ‰è¯­éŸ³æ’­æŠ¥ï¼š

- `is_intent_user = true` æˆ–
- `intent_score >= 50`

å½“å‰è¯­éŸ³æ’­æŠ¥æ–‡æ¡ˆä¸ºï¼š

- `æ¥å®¢äº†ï¼Œå¿«ç‚¹æ¥æ¥å®¢äº†ï¼Œè¯„è®ºå†…å®¹ï¼š...`

### 4) é…ç½®æŒä¹…åŒ–

ä»¥ä¸‹é…ç½®ä¼šä¿å­˜åœ¨çŠ¶æ€æ–‡ä»¶ä¸­å¹¶åœ¨é‡å¯åæ¢å¤ï¼š

- `llm_filter_enabled`
- `llm_filter_base_url`
- `llm_filter_api_key`
- `llm_filter_model`
- `llm_filter_timeout_sec`

ä¿å­˜æ¥å£ï¼š

- `POST /api/set_llm_filter_config`

## æ¨èé…ç½®ç¤ºä¾‹

ä»¥ä½ çš„ç½‘å…³ä¸ºä¾‹ï¼š

- Base URL: `https://ollama-ai.shou.heiyu.space/v1`
- Model: ä¾‹å¦‚ `qwen2.5:7b`ï¼ˆéœ€ä¸æœåŠ¡ç«¯å®é™…æ¨¡å‹åä¸€è‡´ï¼‰
- API Key: æ— é‰´æƒå¯å¡« `EMPTY`
- Timeout: `8`ï¼ˆå¯æŒ‰ç½‘ç»œæƒ…å†µè°ƒæ•´ï¼‰

## ä¸»è¦ç›®å½•

- `app.py`: åç«¯ä¸»ç¨‹åº
- `templates/index.html`: å‰ç«¯é¡µé¢
- `twitter-reply-jumper/`: æ‰©å±•ç›¸å…³ä»£ç 
